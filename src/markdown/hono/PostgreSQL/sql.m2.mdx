# PostgreSQL CRUD Operations

## Introduction & Why CRUD?

CRUD stands for **Create, Read, Update, and Delete**, which are the four basic operations used in databases. PostgreSQL provides a **powerful SQL interface** for performing these operations efficiently.

### Why Use PostgreSQL for CRUD?

PostgreSQL is **highly optimized for complex queries and transactions**, making it ideal for applications that require **data integrity, high concurrency, and scalability**.

---

## Setting Up the Database

Before performing CRUD operations, you need to create a database and a table.

### Create a Database

To create a new database, use the following SQL command:

```sql
CREATE DATABASE my_database;
```

### Create a Table

Once the database is created, connect to it and create a table. For example:

```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## CRUD Operations in PostgreSQL

### 1. **Create**: Insert Data into a Table

The `INSERT` statement is used to add new rows to a table.

```sql
INSERT INTO users (name, email) 
VALUES ('John Doe', 'john.doe@example.com');
```

You can insert multiple rows at once:

```sql
INSERT INTO users (name, email) 
VALUES 
    ('Jane Smith', 'jane.smith@example.com'),
    ('Alice Johnson', 'alice.johnson@example.com');
```

---

### 2. **Read**: Query Data from a Table

The `SELECT` statement is used to retrieve data from a table.

Retrieve all rows:

```sql
SELECT * FROM users;
```

Retrieve specific columns:

```sql
SELECT name, email FROM users;
```

Filter rows using `WHERE`:

```sql
SELECT * FROM users WHERE email = 'john.doe@example.com';
```

Sort results using `ORDER BY`:

```sql
SELECT * FROM users ORDER BY created_at DESC;
```

---

### 3. **Update**: Modify Existing Data

The `UPDATE` statement is used to modify existing rows in a table.

Update a single row:

```sql
UPDATE users 
SET name = 'Johnathan Doe' 
WHERE email = 'john.doe@example.com';
```

Update multiple rows:

```sql
UPDATE users 
SET created_at = CURRENT_TIMESTAMP 
WHERE name LIKE 'Jane%';
```

---

### 4. **Delete**: Remove Data from a Table

The `DELETE` statement is used to remove rows from a table.

Delete a specific row:

```sql
DELETE FROM users 
WHERE email = 'john.doe@example.com';
```

Delete all rows (use with caution):

```sql
DELETE FROM users;
```

---

## Additional Notes

- Always use `WHERE` clauses with `UPDATE` and `DELETE` to avoid unintentional changes or data loss.
- Use transactions (`BEGIN`, `COMMIT`, `ROLLBACK`) to ensure data integrity during complex operations.
- PostgreSQL supports advanced features like **RETURNING** to retrieve affected rows after `INSERT`, `UPDATE`, or `DELETE`:

```sql
INSERT INTO users (name, email) 
VALUES ('Bob Brown', 'bob.brown@example.com') 
RETURNING id, created_at;
```

This concludes the basic CRUD operations in PostgreSQL. Let me know if you'd like to dive deeper into advanced topics like transactions or indexing!